(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports={jumbotron:"HomeView_jumbotron__27Kib",jumbotron_text:"HomeView_jumbotron_text__1Fo0g",brand:"HomeView_brand__1VXZt",down_icon:"HomeView_down_icon__1C7q8"}},145:function(e,t,a){e.exports={search:"Search_search__2uiiD",searchBar:"Search_searchBar__1fp6x",apartmentWrapper:"Search_apartmentWrapper__2pZmT",apartmentView:"Search_apartmentView__2PcaM"}},314:function(e,t,a){e.exports={card:"ApartmentCard_card__1uMym",cardImage:"ApartmentCard_cardImage__17NjA",cardDescription:"ApartmentCard_cardDescription__1gQv_"}},34:function(e,t,a){e.exports={apartment:"ApartmentDetail_apartment__2K5Aw",heart:"ApartmentDetail_heart__2vnVf",saved:"ApartmentDetail_saved__3Fmgz",apartmentPic:"ApartmentDetail_apartmentPic__2qP99",apartmentDescription:"ApartmentDetail_apartmentDescription__3whU7",apartmentName:"ApartmentDetail_apartmentName__q9FkD",apartmentAddress:"ApartmentDetail_apartmentAddress__1OoCd",icons:"ApartmentDetail_icons__2hYFR",icon:"ApartmentDetail_icon__3KPEq",availability:"ApartmentDetail_availability__2gLHJ",cal:"ApartmentDetail_cal__2vx37",user:"ApartmentDetail_user__1BeY3",userIcon:"ApartmentDetail_userIcon__120lE"}},36:function(e,t,a){e.exports={detailView:"DetailView_detailView__GhFxt",apartment:"DetailView_apartment__3O_Vb",heart:"DetailView_heart__Qsiqe",saved:"DetailView_saved__KfsZ0",apartmentPic:"DetailView_apartmentPic__1RobQ",apartmentDescription:"DetailView_apartmentDescription__2l_AH",apartmentName:"DetailView_apartmentName__1KwhS",apartmentAddress:"DetailView_apartmentAddress__3YzsU",icons:"DetailView_icons__1dRzB",icon:"DetailView_icon__1Bzgv",availability:"DetailView_availability__3h6VT",cal:"DetailView_cal__3F5Yx",user:"DetailView_user__TA7td",userIcon:"DetailView_userIcon__3Sv4s"}},405:function(e,t,a){e.exports=a.p+"static/media/background.c20f295e.jpg"},413:function(e,t,a){e.exports=a.p+"static/media/background.c20f295e.jpg"},42:function(e,t,a){e.exports={userprofile:"UserProfileView_userprofile__breGK",profile:"UserProfileView_profile__1Jrr7",profilePicture:"UserProfileView_profilePicture__9d5Ue",profileName:"UserProfileView_profileName__3RQsA",profileDetails:"UserProfileView_profileDetails__GTtiA",profileDetailsSection:"UserProfileView_profileDetailsSection__3JJzs",profileMisc:"UserProfileView_profileMisc__3sVCx",add_btn:"UserProfileView_add_btn__CGMPi",logout_btn:"UserProfileView_logout_btn__26zIY",apartments:"UserProfileView_apartments__mkoXr",ownedApartments:"UserProfileView_ownedApartments__1tfaV",cardGroup:"UserProfileView_cardGroup__3ymar",favoriteApartments:"UserProfileView_favoriteApartments__24ncC"}},429:function(e,t,a){e.exports=a.p+"static/media/default.4696391c.jpg"},434:function(e,t,a){e.exports=a(731)},439:function(e,t,a){},731:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(70),i=a.n(s),l=(a(439),a(28)),o=a(29),c=a(31),m=a(30),u=a(32),d=a(64),p=a(124),h=(a(440),a(126)),g=a.n(h),f=a(22),E=a(172),_=a(311);a(523);_.initializeApp({apiKey:"AIzaSyBWQyYABAfVXMZ94YB2O45rOoTyjTDo4TY",authDomain:"roomify-c75d4.firebaseapp.com",databaseURL:"https://roomify-c75d4.firebaseio.com",projectId:"roomify-c75d4",storageBucket:"roomify-c75d4.appspot.com",messagingSenderId:"106083090105"});var v=_,b=a(85),w=a.n(b),D=a(48),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={loginClass:w.a.show,profileClass:w.a.hide},e.scrollToTop=e.scrollToTop.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.auth().onAuthStateChanged(function(t){t&&e.setState({loginClass:w.a.hide,profileClass:w.a.show,userId:t.uid})})}},{key:"scrollToTop",value:function(){E.animateScroll.scrollToTop()}},{key:"render",value:function(){return n.a.createElement("div",{className:w.a.navbar},n.a.createElement(d.b,{to:"/"},n.a.createElement("div",{onClick:this.scrollToTop,className:w.a.brand},n.a.createElement("h1",null,"Roomify"))),n.a.createElement("div",{className:this.state.loginClass},n.a.createElement(d.b,{to:"/login"},n.a.createElement("div",{className:w.a.login_btn},n.a.createElement("h2",null,"Login")))),n.a.createElement("div",{className:this.state.profileClass},n.a.createElement(d.b,{to:{pathname:"/user/".concat(this.state.userId)}},n.a.createElement("div",{className:w.a.profile_btn},n.a.createElement(D.f,{className:w.a.profile_icon})))))}}]),t}(r.Component),I=a(145),N=a.n(I),y=a(34),S=a.n(y),j=a(25),k=a.n(j),O=a(49),H=a(50),A=a.n(H),V="https://roomify-backend.herokuapp.com/api",L=function(){var e=Object(O.a)(k.a.mark(function e(t,a,r,n,s,i){var l,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={crossDomain:!0},e.next=4,A.a.get(V+"/apartments",l);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r,n,s,i){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(k.a.mark(function e(t,a,r,n,s,i,l,o,c){var m,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m={Lat:t,Long:a,Address:r,StartDate:n,EndDate:s,Bedrooms:i,Bathrooms:l,UserID:o,ImageURL:c,crossDomain:!0},e.next=4,A.a.post(V+"/apartments",m);case 4:return u=e.sent,e.abrupt("return",u);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r,n,s,i,l,o,c){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(k.a.mark(function e(t){var a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={crossDomain:!0},e.next=4,A.a.get(V+"/apartments/"+t,a);case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(k.a.mark(function e(t,a){var r,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={AptID:t,crossDomain:!0},e.next=4,A.a.put(V+"/apartments/"+a+"/saved",r);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(O.a)(k.a.mark(function e(t,a){var r,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={crossDomain:!0},e.next=4,A.a.delete(V+"/apartments/"+a+"/saved/"+t,r);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(O.a)(k.a.mark(function e(t,a,r,n,s){var i,l;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={UserID:t,CurrentApartments:[],SavedApartments:[],CellPhone:a,Email:r,Name:n,ImageURL:s,crossDomain:!0},e.next=4,A.a.post(V+"/users",i);case 4:return l=e.sent,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r,n,s){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(k.a.mark(function e(t){var a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={crossDomain:!0},e.next=4,A.a.get(V+"/users/"+t,a);case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(k.a.mark(function e(t,a,r){var n,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Lat:t,Long:a,Radius:r,crossDomain:!0},e.next=4,A.a.get(V+"/apartments/nearby/"+t+"/"+a,n);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,r){return e.apply(this,arguments)}}(),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={userEmail:"",savedApartments:[]},e.heartApartment=e.heartApartment.bind(Object(f.a)(e)),e.getuserEmail=e.getuserEmail.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.auth().currentUser;t?(this.setState({loggedIn:!0}),x(t.uid).then(function(t){e.setState({savedApartments:t.data.data.SavedApartments}),e.state.savedApartments.includes(e.props.apartment._id)&&document.getElementById("heart_icon"+e.props.num).classList.add(S.a.saved)})):this.setState({loggedIn:!1}),this.props.apartment.UserID&&this.getuserEmail(this.props.apartment.UserID)}},{key:"heartApartment",value:function(e){if(this.state.loggedIn){var t=v.auth().currentUser;e.currentTarget.classList.contains(S.a.saved)?(e.currentTarget.classList.remove(S.a.saved),M(this.props.apartment._id,t.uid).then(function(e){console.log(e)})):(e.currentTarget.classList.add(S.a.saved),U(this.props.apartment._id,t.uid).then(function(e){console.log(e)}))}}},{key:"getuserEmail",value:function(e){var t=this;x(e).then(function(e){t.setState({userEmail:e.data.data.Email})})}},{key:"render",value:function(){return this.props.apartment.StartDate&&(this.props.apartment.StartDate=new Date(this.props.apartment.StartDate)),this.props.apartment.EndDate&&(this.props.apartment.EndDate=new Date(this.props.apartment.EndDate)),n.a.createElement("div",{className:S.a.wrapper},n.a.createElement("div",{className:S.a.ApartmentDetail},n.a.createElement("div",{className:S.a.apartment},n.a.createElement("img",{className:S.a.apartmentPic,src:this.props.apartment.ImageURL,alt:"apartment"}),n.a.createElement("div",{className:S.a.apartmentDescription},n.a.createElement(d.b,{to:{pathname:"/apartment/".concat(this.props.id)}},n.a.createElement("h2",{className:S.a.apartmentName},"Apartment")),n.a.createElement("h3",{className:S.a.apartmentAddress},this.props.apartment.Address),n.a.createElement("div",{className:S.a.icons},n.a.createElement("div",{className:S.a.icon},this.props.apartment.Bedrooms,n.a.createElement(D.b,null)),n.a.createElement("div",{className:S.a.icon},this.props.apartment.Bathrooms,n.a.createElement(D.a,null))),n.a.createElement("div",{className:S.a.availability},n.a.createElement("div",{className:S.a.cal},n.a.createElement(D.c,null)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(this.props.apartment.StartDate)+" to "+new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(this.props.apartment.EndDate)),n.a.createElement("div",{className:S.a.user},n.a.createElement("div",{className:S.a.userIcon},n.a.createElement(D.f,null)),this.state.userEmail)),n.a.createElement("div",{className:S.a.heart},n.a.createElement(D.e,{id:"heart_icon"+this.props.num,onClick:this.heartApartment})))))}}]),t}(r.Component),T=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={apartments:[]},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[];if(this.props.apartments)for(var t=0;t<this.props.apartments.length;t++){var a=this.props.apartments[t];e.push(n.a.createElement(F,{apartment:a,id:a._id,num:t,key:t}))}return e}}]),t}(r.Component),G=a(243),W=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={lat:0,lng:0,apartments:[]},e.handleSubmit=e.handleSubmit.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e&&(this.setState({lat:e.location.lat,lng:e.location.lng}),Y(this.state.lat,this.state.lng,2).then(function(e){t.setState({apartments:e.data.data})}).catch(function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;L(100,{},{},{},{},{}).then(function(t){e.setState({apartments:t.data.data})})}},{key:"render",value:function(){return n.a.createElement("div",{className:N.a.search_view},n.a.createElement("div",{className:N.a.search},n.a.createElement("h1",null,"Enter a location:"),n.a.createElement("div",{className:N.a.searchBar},n.a.createElement(G.a,{onSuggestSelect:this.handleSubmit}))),n.a.createElement("div",{className:N.a.apartmentWrapper},n.a.createElement("div",{className:N.a.apartmentView},n.a.createElement(T,{apartments:this.state.apartments,lat:this.state.lat,lng:this.state.lng}))))}}]),t}(r.Component),J=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:g.a.home},n.a.createElement(C,null),n.a.createElement("div",{className:g.a.jumbotron},n.a.createElement("div",{className:g.a.jumbotron_text},n.a.createElement("h1",null,"Welcome to ",n.a.createElement("div",{className:g.a.brand},"Roomify")),n.a.createElement("h2",null,"Find or rent out a sublease, find roommates, or browse apartments.")),n.a.createElement(E.Link,{to:"search",spy:!0,smooth:!0,offset:0,duration:1e3},n.a.createElement("div",{className:g.a.down_icon},n.a.createElement(D.d,null)))),n.a.createElement(E.Element,{name:"search",className:g.a.search_view},n.a.createElement(W,null)))}}]),t}(r.Component),K=a(340),q=a(376),z=a(138),Q=a(86),Z=a.n(Q),X=a(405),$=a.n(X),ee=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={username:"",password:"",formError:!1,loginError:null},e.usernameInputChangeHandler=e.usernameInputChangeHandler.bind(Object(f.a)(e)),e.passwordInputChangeHandler=e.passwordInputChangeHandler.bind(Object(f.a)(e)),e.signInButtonClickHandler=e.signInButtonClickHandler.bind(Object(f.a)(e)),e.registerButtonClickHandler=e.registerButtonClickHandler.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.auth().onAuthStateChanged(function(t){t&&e.props.history.push({pathname:"/",state:{}})})}},{key:"usernameInputChangeHandler",value:function(e){this.setState({username:e.target.value},function(){})}},{key:"passwordInputChangeHandler",value:function(e){this.setState({password:e.target.value},function(){})}},{key:"signInButtonClickHandler",value:function(e){var t=this;v.auth().signInWithEmailAndPassword(this.state.username,this.state.password).then(function(e){t.props.history.push({pathname:"/",state:{}})}).catch(function(e){t.setState({loginError:e})})}},{key:"registerButtonClickHandler",value:function(e){this.props.history.push({pathname:"/register",state:{}})}},{key:"render",value:function(){return n.a.createElement("div",{className:Z.a.login},n.a.createElement(C,null),n.a.createElement("div",{className:Z.a.left},n.a.createElement("img",{className:Z.a.background,alt:"",src:$.a})),n.a.createElement("div",{className:Z.a.right},n.a.createElement("div",{className:Z.a.header},n.a.createElement("h1",{className:Z.a.brand},"Roomify")),n.a.createElement(K.a,{error:!0,className:Z.a.form},this.state.loginError?n.a.createElement(q.a,{error:!0,header:"Error",content:"Unable to log in. The username and/or password you have entered is incorrect."}):null,n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Username/Email",placeholder:"Username/Email",onChange:this.usernameInputChangeHandler})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{type:"password",label:"Password",placeholder:"Password",onChange:this.passwordInputChangeHandler})),n.a.createElement(K.a.Field,null,n.a.createElement(z.a,{fluid:!0,className:Z.a.sign_in_button,type:"button",onClick:this.signInButtonClickHandler},"Sign In")),n.a.createElement("b",null,"No account?"),n.a.createElement(K.a.Field,null,n.a.createElement(z.a,{fluid:!0,className:Z.a.register_button,type:"button",onClick:this.registerButtonClickHandler},"Register")))))}}]),t}(r.Component),te=a(95),ae=a.n(te),re=a(413),ne=a.n(re),se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={name:"",profilePicture:"",email:"",phoneNumber:"",password:"",passwordMatch:"",nameError:!0,profilePictureError:!0,emailError:!0,phoneNumberError:!0,passwordError:!0,passwordMatchError:!0,formError:!1,registerError:null},e.nameInputChangeHandler=e.nameInputChangeHandler.bind(Object(f.a)(e)),e.profilePictureInputChangeHandler=e.profilePictureInputChangeHandler.bind(Object(f.a)(e)),e.emailInputChangeHandler=e.emailInputChangeHandler.bind(Object(f.a)(e)),e.phoneNumberInputChangeHandler=e.phoneNumberInputChangeHandler.bind(Object(f.a)(e)),e.passwordInputChangeHandler=e.passwordInputChangeHandler.bind(Object(f.a)(e)),e.passwordMatchInputChangeHandler=e.passwordMatchInputChangeHandler.bind(Object(f.a)(e)),e.registerButtonClickHandler=e.registerButtonClickHandler.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.auth().onAuthStateChanged(function(t){t&&e.props.history.push({pathname:"/",state:{}})})}},{key:"nameInputChangeHandler",value:function(e){var t=this;this.setState({name:e.target.value},function(){/\S/.test(t.state.name)?t.setState({nameError:!1}):t.setState({nameError:!0})})}},{key:"profilePictureInputChangeHandler",value:function(e){var t=this;this.setState({profilePicture:e.target.value},function(){var e=new Image;e.onload=function(){t.setState({profilePictureError:!1})},e.onerror=function(){t.setState({profilePictureError:!0})},e.src=t.state.profilePicture})}},{key:"emailInputChangeHandler",value:function(e){var t=this;this.setState({email:e.target.value},function(){/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t.state.email)?t.setState({emailError:!1}):t.setState({emailError:!0})})}},{key:"phoneNumberInputChangeHandler",value:function(e){var t=this;this.setState({phoneNumber:e.target.value},function(){/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im.test(t.state.phoneNumber)?t.setState({phoneNumberError:!1}):t.setState({phoneNumberError:!0})})}},{key:"passwordInputChangeHandler",value:function(e){var t=this;this.setState({password:e.target.value},function(){t.state.password.length>8?t.setState({passwordError:!1}):t.setState({passwordError:!0}),t.state.password===t.state.passwordMatch?t.setState({passwordMatchError:!1}):t.setState({passwordMatchError:!0})})}},{key:"passwordMatchInputChangeHandler",value:function(e){var t=this;this.setState({passwordMatch:e.target.value},function(){t.state.password===t.state.passwordMatch?t.setState({passwordMatchError:!1}):t.setState({passwordMatchError:!0})})}},{key:"registerButtonClickHandler",value:function(e){var t=this;this.state.nameError||this.state.profilePictureError||this.state.emailError||this.state.phoneNumberError||this.state.passwordError||this.state.passwordMatchError?(this.setState({formError:!0}),this.setState({registerError:null})):(this.setState({formError:!1}),v.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(e){R(e.user.uid,t.state.phoneNumber,t.state.email,t.state.name,t.state.profilePicture).then(function(e){t.props.history.push({pathname:"/",state:{}})})}).catch(function(e){t.setState({registerError:e})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:ae.a.register},n.a.createElement(C,null),n.a.createElement("div",{className:ae.a.left},n.a.createElement("img",{className:ae.a.background,alt:"",src:ne.a})),n.a.createElement("div",{className:ae.a.right},n.a.createElement("div",{className:ae.a.header},n.a.createElement("h1",{className:ae.a.brand},"Roomify")),n.a.createElement(K.a,{error:!0,className:ae.a.form},this.state.formError?n.a.createElement(q.a,{error:!0,header:"Invalid Field(s)",content:"One of more of the required fields are empty/invalid. Please verify the information below."}):this.state.registerError?n.a.createElement(q.a,{error:!0,header:"Account Already Exists",content:"An account already exists for this email address. Please log in or confirm that your email address is correct."}):null,n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Name",placeholder:"Name",onChange:this.nameInputChangeHandler,error:this.state.nameError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Profile Picture URL",placeholder:"https://google.com",onChange:this.profilePictureInputChangeHandler,error:this.state.profilePictureError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Email",placeholder:"Email",onChange:this.emailInputChangeHandler,error:this.state.emailError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Phone Number",placeholder:"Phone Number",onChange:this.phoneNumberInputChangeHandler,error:this.state.phoneNumberError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{type:"password",label:"Password",placeholder:"Password",onChange:this.passwordInputChangeHandler,error:this.state.passwordError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{type:"password",label:"Re-enter Password",placeholder:"Re-enter Password",onChange:this.passwordMatchInputChangeHandler,error:this.state.passwordMatchError})),n.a.createElement(K.a.Field,null,n.a.createElement(z.a,{fluid:!0,className:ae.a.register_button,type:"button",onClick:this.registerButtonClickHandler},"Register")))))}}]),t}(r.Component),ie=a(36),le=a.n(ie),oe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={apartment:{},userEmail:"",savedApartments:[]},e.heartApartment=e.heartApartment.bind(Object(f.a)(e)),e.getUserEmail=e.getUserEmail.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.auth().currentUser;t?(this.setState({loggedIn:!0}),x(t.uid).then(function(t){e.setState({savedApartments:t.data.data.SavedApartments}),e.state.savedApartments.includes(e.state.apartment._id)&&document.getElementById("heart_icon").classList.add(le.a.saved)})):this.setState({loggedIn:!1}),P(this.props.match.params.id).then(function(t){e.setState({apartment:t.data.data}),e.state.apartment.UserID&&e.getUserEmail(e.state.apartment.UserID)}).catch(function(t){e.props.history.push({pathname:"/",state:{}})}),this.state.apartment.StartDate&&this.setState({startDate:new Date(this.state.apartment.StartDate)}),this.state.apartment.EndDate&&this.setState({endDate:new Date(this.state.apartment.EndDate)})}},{key:"heartApartment",value:function(e){if(this.state.loggedIn){var t=v.auth().currentUser;e.currentTarget.classList.contains(le.a.saved)?(e.currentTarget.classList.remove(le.a.saved),M(this.state.apartment._id,t.uid).then(function(e){console.log(e)})):(e.currentTarget.classList.add(le.a.saved),U(this.state.apartment._id,t.uid).then(function(e){console.log(e)}))}}},{key:"getUserEmail",value:function(e){var t=this;x(e).then(function(e){t.setState({userEmail:e.data.data.Email})})}},{key:"render",value:function(){return n.a.createElement("div",{className:le.a.detailView},n.a.createElement(C,null),n.a.createElement("div",{className:le.a.apartment},n.a.createElement("img",{className:le.a.apartmentPic,src:this.state.apartment.ImageURL,alt:"apartment"}),n.a.createElement("div",{className:le.a.apartmentDescription},n.a.createElement("h2",{className:le.a.apartmentName},"Apartment"),n.a.createElement("h3",{className:le.a.apartmentAddress},this.state.apartment.Address),n.a.createElement("div",{className:le.a.icons},n.a.createElement("div",{className:le.a.icon},this.state.apartment.Bedrooms,n.a.createElement(D.b,null)),n.a.createElement("div",{className:le.a.icon},this.state.apartment.Bathrooms,n.a.createElement(D.a,null))),n.a.createElement("div",{className:le.a.availability},n.a.createElement("div",{className:le.a.cal},n.a.createElement(D.c,null)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(this.state.startDate)+" to "+new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(this.state.endDate)),n.a.createElement("div",{className:le.a.user},n.a.createElement("div",{className:le.a.userIcon},n.a.createElement(D.f,null)),this.state.userEmail)),n.a.createElement("div",{className:le.a.heart},n.a.createElement(D.e,{id:"heart_icon",onClick:this.heartApartment}))))}}]),t}(r.Component),ce=a(241),me=a(42),ue=a.n(me),de=a(139),pe=a(314),he=a.n(pe),ge=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={apartment:null},e.componentDidMount=e.componentDidMount.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;P(this.props.id).then(function(t){e.setState({apartment:t.data.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return this.state.apartment?n.a.createElement(ce.a,{as:d.b,to:"/apartment/".concat(this.props.id),className:he.a.card},n.a.createElement(de.a,{className:he.a.cardImage,src:this.state.apartment.ImageURL}),n.a.createElement(ce.a.Content,null,n.a.createElement(ce.a.Header,null,"Apartment"),n.a.createElement(ce.a.Meta,null,n.a.createElement("div",null,n.a.createElement("span",null,this.state.apartment.Address))),n.a.createElement(ce.a.Description,null,n.a.createElement("div",null)))):null}}]),t}(r.Component),fe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={numItemsPerRow:3,user:null},e.logoutClickHandler.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.auth().onAuthStateChanged(function(t){t&&t.uid===e.props.match.params.id?x(e.props.match.params.id).then(function(t){e.setState({user:t.data.data})}).catch(function(t){e.props.history.push({pathname:"/",state:{}})}):e.props.history.push({pathname:"/",state:{}})})}},{key:"logoutClickHandler",value:function(e){v.auth().signOut().then(function(){}).catch(function(e){})}},{key:"render",value:function(){return this.state.user?n.a.createElement("div",{className:ue.a.userprofile},n.a.createElement(C,null),n.a.createElement("div",{className:ue.a.profile},n.a.createElement("img",{className:ue.a.profilePicture,src:this.state.user.ImageURL,alt:"profile"}),n.a.createElement("div",{className:ue.a.profileName},n.a.createElement("h1",null,this.state.user.Name)),n.a.createElement("div",{className:ue.a.profileDetails},n.a.createElement("span",{className:ue.a.profileDetailsSection},n.a.createElement("p",null,"Email: "+this.state.user.Email)),n.a.createElement("span",{className:ue.a.profileDetailsSection},n.a.createElement("p",null,"Phone #: "+this.state.user.CellPhone))),n.a.createElement("div",{className:ue.a.profileMisc},n.a.createElement(z.a,{fluid:!0,className:ue.a.add_btn,as:d.b,to:"/createListing"},"Add Apartment")),n.a.createElement("div",{className:ue.a.profileMisc},n.a.createElement(z.a,{fluid:!0,className:ue.a.logout_btn,onClick:this.logoutClickHandler},"Logout"))),n.a.createElement("div",{className:ue.a.apartments},n.a.createElement("div",{className:ue.a.ownedApartments},n.a.createElement("h1",null,"My Apartments"),n.a.createElement("div",{className:ue.a.cardGroup},n.a.createElement(ce.a.Group,{itemsPerRow:this.state.numItemsPerRow},this.state.user.CurrentApartments.map(function(e){return n.a.createElement(ge,{key:e,id:e})})))),n.a.createElement("div",{className:ue.a.favoriteApartments},n.a.createElement("h1",null,"Favorite Apartments"),n.a.createElement("div",{className:ue.a.cardGroup},n.a.createElement(ce.a.Group,{itemsPerRow:this.state.numItemsPerRow},this.state.user.SavedApartments.map(function(e){return n.a.createElement(ge,{key:e,id:e})})))))):null}}]),t}(r.Component),Ee=a(33),_e=a.n(Ee),ve=a(315),be=a(96),we=a.n(be),De=a(429),Ce=a.n(De),Ie=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={lat:0,lng:0,userID:"",address:"",startDate:"",endDate:"",numBeds:"",numBaths:"",imgURL:"",addressError:!0,startDateError:!0,endDateError:!0,numBedsError:!0,numBathsError:!0,imgURLError:!0,formError:!1,createListingError:null},e.addressInputChangeHandler=e.addressInputChangeHandler.bind(Object(f.a)(e)),e.startDateInputChangeHandler=e.startDateInputChangeHandler.bind(Object(f.a)(e)),e.endDateInputChangeHandler=e.endDateInputChangeHandler.bind(Object(f.a)(e)),e.numBedsInputChangeHandler=e.numBedsInputChangeHandler.bind(Object(f.a)(e)),e.numBathsInputChangeHandler=e.numBathsInputChangeHandler.bind(Object(f.a)(e)),e.imgURLInputChangeHandler=e.imgURLInputChangeHandler.bind(Object(f.a)(e)),e.createListingButtonClickHandler=e.createListingButtonClickHandler.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.auth().onAuthStateChanged(function(t){t?e.setState({userID:t.uid}):e.props.history.push({pathname:"/login",state:{}})})}},{key:"addressInputChangeHandler",value:function(e){var t=this;e.location?this.setState({lat:e.location.lat,lng:e.location.lng},function(){e&&t.setState({address:e.description,lat:e.location.lat,lng:e.location.lng},function(){t.state.lat&&t.state.lng?t.setState({addressError:!1}):t.setState({addressError:!0})})}):this.setState({addressError:!0})}},{key:"startDateInputChangeHandler",value:function(e,t){var a=this,r=t.value;this.setState({startDate:r},function(){_e()(a.state.startDate,"MM-DD-YYYY",!0).isValid()||_e()(a.state.startDate,"MM/DD/YYYY",!0).isValid()?a.setState({startDateError:!1}):a.setState({startDateError:!0})})}},{key:"endDateInputChangeHandler",value:function(e,t){var a=this,r=t.value;this.setState({endDate:r},function(){_e()(a.state.endDate,"MM-DD-YYYY",!0).isValid()||_e()(a.state.endDate,"MM/DD/YYYY",!0).isValid()?a.setState({endDateError:!1}):a.setState({endDateError:!0})})}},{key:"numBedsInputChangeHandler",value:function(e){var t=this;this.setState({numBeds:e.target.value},function(){/^\d+$/.test(t.state.numBeds)?t.setState({numBedsError:!1}):t.setState({numBedsError:!0})})}},{key:"numBathsInputChangeHandler",value:function(e){var t=this;this.setState({numBaths:e.target.value},function(){/^\d+$/.test(t.state.numBaths)?t.setState({numBathsError:!1}):t.setState({numBathsError:!0})})}},{key:"imgURLInputChangeHandler",value:function(e){var t=this;this.setState({imgURL:e.target.value},function(){var e=new Image;e.onload=function(){t.setState({imgURLError:!1})},e.onerror=function(){t.setState({imgURLError:!0})},e.src=t.state.imgURL})}},{key:"createListingButtonClickHandler",value:function(e){var t=this;this.state.addressError||this.state.startDateError||this.state.endDateError||this.state.numBedsError||this.state.numBathsError||this.state.imgURLError?(this.setState({formError:!0}),this.setState({createListingError:null})):(this.setState({formError:!1}),B(this.state.lat,this.state.lng,this.state.address,this.state.startDate,this.state.endDate,this.state.numBeds,this.state.numBaths,this.state.userID,this.state.imgURL).then(function(e){t.props.history.push({pathname:"/",state:{}})}).catch(function(e){t.setState({createListingError:e})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:we.a.createListing},n.a.createElement(C,null),n.a.createElement("div",{className:we.a.left},n.a.createElement("div",{className:we.a.header},n.a.createElement("h1",null,"Create Listing")),n.a.createElement(K.a,{error:!0,className:we.a.form},this.state.formError?n.a.createElement(q.a,{error:!0,header:"Invalid Field(s)",content:"One of more of the required fields are empty/invalid. Please verify the information below."}):null,n.a.createElement(K.a.Field,{error:this.state.addressError},n.a.createElement("label",null,"Address"),n.a.createElement(G.a,{onSuggestSelect:this.addressInputChangeHandler,onChange:this.addressInputChangeHandler})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"Apartment Image URL",placeholder:"https://google.com",onChange:this.imgURLInputChangeHandler,error:this.state.imgURLError})),n.a.createElement(K.a.Field,null,n.a.createElement(ve.DateInput,{icon:"",label:"Start Date",value:this.state.startDate,placeholder:_e()(new Date).format("MM-DD-YYYY"),initialDate:_e()(new Date),minDate:_e()(new Date),dateFormat:"MM-DD-YYYY",onChange:this.startDateInputChangeHandler,error:this.state.startDateError})),n.a.createElement(K.a.Field,null,n.a.createElement(ve.DateInput,{icon:"",label:"End Date",placeholder:_e()(new Date).add(3,"months").format("MM-DD-YYYY"),initialDate:_e()(new Date).add(3,"months"),minDate:_e()(new Date).add(3,"months"),dateFormat:"MM-DD-YYYY",value:this.state.endDate,onChange:this.endDateInputChangeHandler,error:this.state.endDateError})),n.a.createElement(K.a.Group,{widths:"equal",className:we.a.field},n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"# Beds",placeholder:"0",onChange:this.numBedsInputChangeHandler,error:this.state.numBedsError})),n.a.createElement(K.a.Field,null,n.a.createElement(K.a.Input,{label:"# Baths",placeholder:"0",onChange:this.numBathsInputChangeHandler,error:this.state.numBathsError}))),n.a.createElement(K.a.Field,null,n.a.createElement(z.a,{fluid:!0,className:we.a.createListingButton,type:"button",onClick:this.createListingButtonClickHandler},"Create Listing")))),n.a.createElement("div",{className:we.a.right},n.a.createElement("img",{className:we.a.background,alt:"",src:this.state.imgURLError?Ce.a:this.state.imgURL})))}}]),t}(r.Component),Ne=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(d.a,{basename:"/roomify"},n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/",component:J}),n.a.createElement(p.b,{exact:!0,path:"/login",component:ee}),n.a.createElement(p.b,{exact:!0,path:"/register",component:se}),n.a.createElement(p.b,{path:"/user/:id",component:fe}),n.a.createElement(p.b,{path:"/apartment/:id",component:oe}),n.a.createElement(p.b,{exact:!0,path:"/createListing",component:Ie}),n.a.createElement(p.a,{from:"/*",to:"/"})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,t,a){e.exports={navbar:"Navbar_navbar__1QtKJ",brand:"Navbar_brand__8C33K",login_btn:"Navbar_login_btn__3dWJJ",hide:"Navbar_hide__1bijp",show:"Navbar_show__1hfmI",profile_btn:"Navbar_profile_btn__D3iJx",profile_icon:"Navbar_profile_icon__2tKHq"}},86:function(e,t,a){e.exports={login:"LoginView_login__2vmnr",left:"LoginView_left__1Ttsk",background:"LoginView_background__1lVms",right:"LoginView_right__71OLC",header:"LoginView_header__1w4bX",brand:"LoginView_brand__Y-inx",form:"LoginView_form__2rU2G",register_button:"LoginView_register_button__3LgzE",sign_in_button:"LoginView_sign_in_button__4CdoX"}},95:function(e,t,a){e.exports={register:"RegisterView_register__2FZvi",left:"RegisterView_left__18pFJ",background:"RegisterView_background__12MaS",right:"RegisterView_right__1Zh4D",header:"RegisterView_header__2DWar",brand:"RegisterView_brand__1DYWb",form:"RegisterView_form__29tBT",register_button:"RegisterView_register_button__25HBI"}},96:function(e,t,a){e.exports={createListing:"CreateListingView_createListing__3GVl_",left:"CreateListingView_left__38kH_",header:"CreateListingView_header__1VhgE",form:"CreateListingView_form__3Sqho",field:"CreateListingView_field__303wb",createListingButton:"CreateListingView_createListingButton__Pdrba",right:"CreateListingView_right__2bO7K",background:"CreateListingView_background__2VWJd"}}},[[434,1,2]]]);
//# sourceMappingURL=main.d805aad1.chunk.js.map